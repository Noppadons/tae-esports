# -------------------------------------------------------------
# .htaccess for PHP Applications on Render - Minimal Version
# -------------------------------------------------------------

# เปิดใช้งาน RewriteEngine (จำเป็นสำหรับ HTTPS Redirect)
RewriteEngine On

# 1. การเปลี่ยนเส้นทางไป HTTPS (สำคัญมากสำหรับ Render)
# ใช้ X-Forwarded-Proto เพื่อให้ Apache รู้ว่า Request มาจาก HTTPS
# และตรวจสอบ Hostname เพื่อให้ Redirect ไปยัง Domain ของ Render ที่ถูกต้อง
RewriteCond %{HTTP:X-Forwarded-Proto} !https [OR]
# เปลี่ยน 'tae-s.onrender.com' เป็น Domain จริงของโปรเจกต์คุณบน Render
RewriteCond %{HTTP_HOST} !^tae-s\.onrender\.com$ [NC]
RewriteRule ^ https://tae-s.onrender.com%{REQUEST_URI} [L,R=301]

# 2. ป้องกันการแสดงรายการ Directory (Directory Listing) - เพื่อความปลอดภัย
Options -Indexes

# (ไม่มีกฎ RewriteRule อื่นๆ สำหรับ Clean URLs, Security Headers, Caching ในไฟล์นี้แล้ว)
# โปรดทราบว่า: คุณสมบัติด้านความปลอดภัยและประสิทธิภาพบางอย่างจะหายไปในเวอร์ชันนี้